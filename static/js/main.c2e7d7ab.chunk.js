(this["webpackJsonpmy-website"]=this["webpackJsonpmy-website"]||[]).push([[0],{106:function(e,t,a){e.exports=a(158)},111:function(e,t,a){},158:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(17),l=a.n(c),r=(a(111),a(79)),i=a(12),s=a(46);a(160),a(112);s.initializeApp({apiKey:"AIzaSyCGYEDMldWHUn_bmc5uzVzcauszY5gtr8w",authDomain:"eastfiregram.firebaseapp.com",databaseURL:"https://eastfiregram.firebaseio.com",projectId:"eastfiregram",storageBucket:"eastfiregram.appspot.com",messagingSenderId:"297876507107",appId:"1:297876507107:web:ab92da507ab603afa5b8d6"});var u=s.storage(),m=s.firestore(),d=s.firestore.FieldValue.serverTimestamp,p=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1];return console.log("in firestore"),Object(n.useEffect)((function(){var t=m.collection(e).orderBy("order").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return t()}}),[e]),console.log("in firestore docs",o),{docs:o}},g=a(23),f=a.n(g),b=a(183),h=a(185),E=a(186),v=a(187),y=a(188),w=a(59),j=a(58),k=a(92),x=a.n(k),O=Object(b.a)((function(e){return{root:{width:"90%",padding:"8px !important",margin:"5px",boxShadow:"0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)"},overrides:{MuiCardContent:{root:{padding:8,"&:last-child":{paddingBottom:0}}}},youtube:{color:"black",fontWeight:500,fontSize:20},iFrameContainer:{position:"relative",width:"100%",paddingBottom:"56.25%",height:0},image:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}}})),S=function(e){var t=e.title,a=e.linkUrl,n=e.embed,c=e.type,l=O(),r=o.a.useState(!1),s=Object(i.a)(r,2);s[0],s[1];return console.log("Type:",c),o.a.createElement(h.a,{boxShadow:3,className:l.root,item:!0,variant:"outlined"},o.a.createElement(E.a,{styles:{padding:"8px !important"},title:t}),o.a.createElement("div",{className:"iframe-container"},"video"===c?o.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}}):o.a.createElement("img",{className:l.image,src:n})),o.a.createElement(v.a,null,o.a.createElement(y.a,{onClick:function(){!function(e,t){console.log("i was clicked",t);var a=window.location.href,n=a.split("/"),o="local"===a.slice(7,12)?"local":"production",c=n[n.length-1],l=m.collection("analytics"),r=0,i=!0;l.doc(o).collection(c).doc(t).get().then((function(e){e.exists?(console.log("doc:",e.data()),r=e.data().views,console.log("current views:",r)):(i=!1,console.log("No such document!"))})).then((function(){i?l.doc(o).collection(c).doc(t).update({views:r+1}).then((function(){console.log("Document successfully updated!")})):l.doc(o).collection(c).doc(t).set({views:1}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.log("Error getting document 2:",e)}))})).catch((function(e){console.log("Error getting document:",e)}));window.location.href=e}(a,t)},"aria-label":"share"},o.a.createElement(x.a,{style:{color:j.a[500]},fontSize:"large"}),o.a.createElement(w.a,{className:l.youtube}," ","video"===c?"Watch on YouTube":"Check out my channel on YouTube!"," "))))},C=function(){var e=p("links").docs;console.log("links",e);var t=window.location.href,a=t.split("/"),c=t.slice(7,12),l=a[a.length-1];Object(n.useEffect)((function(){var e=m.collection("analytics"),t=0;e.doc(c).collection(l).doc("links").get().then((function(e){e.exists?(console.log("doc:",e.data()),t=e.data().views,console.log("current views:",t)):console.log("No such document!")})).then((function(){e.doc(c).collection(l).doc(l).update({views:t+1}).then((function(){console.log("Document successfully updated!")}))})).catch((function(e){console.log("Error getting document:",e)}))}),[]);var r=e.map((function(e){return o.a.createElement(S,{key:e.id,title:e.title,type:e.type,linkUrl:e.linkUrl,embed:"video"===e.type?e.embed:e.fileUrl})}));return o.a.createElement(f.a,{container:!0,alignItems:"center",justify:"center",direction:"column"},e&&r)},N=a(101),D=a.n(N),F=a(37),U=a.n(F),B=a(96),I=a.n(B),z=a(29),T=a.n(z),L=a(95),A=a.n(L),M=a(75),W=a.n(M),Y=a(93),_=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(null),r=Object(i.a)(l,2),s=r[0],p=r[1],g=Object(n.useState)(null),f=Object(i.a)(g,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){var t=u.ref(e.name),a=m.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){p(e)}),Object(Y.a)(W.a.mark((function e(){var n,o;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,o=d(),a.add({url:n,createdAt:o}),h(n);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:o,url:b,error:s}},G=a(76),R=a.n(G),V=a(94),H=a.n(V),J=a(56),K=a.n(J),$=function(e){var t=e.file,a=e.setFile,c=e.setFileUrl,l=_(t),r=l.url,i=l.progress;return console.log(i,r),c(r),Object(n.useEffect)((function(){r&&a(null)}),[r]),o.a.createElement(R.a,{position:"relative",display:"inline-flex"},o.a.createElement(H.a,{variant:"static",value:i}),o.a.createElement(R.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(K.a,{variant:"caption",component:"div",color:"textSecondary"},"".concat(Math.round(i),"%"))))};function q(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var P=U()((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},myButton:{backgroundColor:" #21D4FD",backgroundImage:"linear-gradient(19deg, #21D4FD 0%, #B721FF 100%)"}}})),Q=function(){var e=P(),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),u=s[0],p=s[1],g=Object(n.useState)(""),f=Object(i.a)(g,2),b=f[0],h=f[1],E=Object(n.useState)(null),v=Object(i.a)(E,2),y=v[0],w=v[1],j=Object(n.useState)(""),k=Object(i.a)(j,2),x=k[0],O=k[1],S=Object(n.useState)(""),C=Object(i.a)(S,2),N=C[0],D=C[1],F=Object(n.useState)(!1),U=Object(i.a)(F,2),B=U[0],z=U[1],L=Object(n.useState)(q),M=Object(i.a)(L,1)[0],W=["image/png","image/jpeg"],Y=function(){z(!1)},_=function(e){var t=e.target,a=t.name,n=t.value;t.type;if("title"===a)console.log(n,a),l(n);else if("embed"===a)console.log("embed",u),p(n);else if("type"===a)h(n);else if("file"===a){var o=e.target.files[0];o&&W.includes(o.type)&&w(o)}else D(n)},G=o.a.createElement("div",{style:M,className:e.paper},o.a.createElement("form",null,o.a.createElement("input",{type:"text",value:c,name:"title",placeholder:"Title",onChange:_}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",value:N,name:"linkUrl",placeholder:"LinkUrl",onChange:_}),o.a.createElement("h1",null,c," ",N),o.a.createElement("select",{value:b,onChange:_,name:"type"},o.a.createElement("option",{value:null},"Select Type"),o.a.createElement("option",{value:"image"},"Image"),o.a.createElement("option",{value:"video"},"Video")),o.a.createElement("br",null),"video"===b&&o.a.createElement("textarea",{name:"embed",value:u,placeholder:"iFrame html",onChange:_}),o.a.createElement("br",null),"image"===b&&o.a.createElement("input",{type:"file",name:"file",onChange:_}),y&&o.a.createElement($,{file:y,setFile:w,setFileUrl:O}),x&&o.a.createElement("p",null,x),o.a.createElement(T.a,{onClick:function(e){var t=m.collection("links");console.log("Submit",e);var a=d();""!==c&&"video"===b?t.add({createdAt:a,type:b,title:c,linkUrl:N,embed:u}):t.add({createdAt:a,type:b,title:c,linkUrl:N,fileUrl:x}),Y()}},"Submit")));return o.a.createElement("div",null,o.a.createElement(T.a,{className:e.myButton,variant:"contained",size:"large",onClick:function(){z(!0)}},o.a.createElement(A.a,null)),o.a.createElement(I.a,{open:B,onClose:Y,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},G))},X=a(40),Z=a(7),ee=a(97),te=a.n(ee),ae=a(98),ne=a.n(ae),oe=a(99),ce=a.n(oe),le=a(100),re=a.n(le),ie=U()((function(e){return{root:{flexGrow:1,backgroundColor:"#263238"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{color:"white",textDecoration:"none"}}}));function se(){var e=ie();return o.a.createElement(te.a,{className:e.root,position:"static"},o.a.createElement(ne.a,null,o.a.createElement(ce.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},o.a.createElement(re.a,null)),o.a.createElement(K.a,{variant:"h6",className:e.title},"East Bound"),o.a.createElement(X.b,{className:e.link,to:"/about"},o.a.createElement(T.a,{color:"inherit"},"About")),o.a.createElement(X.b,{className:e.link,to:"/links"},o.a.createElement(T.a,{color:"inherit"},"Links")),o.a.createElement(T.a,{disabled:!0,color:"inherit"},"Login")))}var ue=U()((function(e){return{larger:{width:150,height:150},root:{padding:"20px"},mainDiv:{padding:"20px",backgroundColor:"#F4D03F",backgroundImage:"linear-gradient(132deg, #F4D03F 0%, #18b55f 100%)"},large:{width:e.spacing(7),height:e.spacing(7)}}}));var me=function(){var e=ue();return o.a.createElement(X.a,null,o.a.createElement(se,null),o.a.createElement("div",{className:e.mainDiv},o.a.createElement(f.a,{container:!0,spacing:1,alignItems:"center",justify:"center",direction:"column"},o.a.createElement(f.a,{item:!0,xs:12},o.a.createElement(X.b,{to:"/add"},o.a.createElement(D.a,{className:e.larger,src:"https://firebasestorage.googleapis.com/v0/b/eastfiregram.appspot.com/o/2020-headshot.jpg?alt=media&token=3fae1710-d48d-49db-af75-627ca49abdd7"}))),o.a.createElement(f.a,{item:!0,xs:12},o.a.createElement("img",{className:"responsive",src:"https://firebasestorage.googleapis.com/v0/b/eastfiregram.appspot.com/o/Logo%202.png?alt=media&token=f3e7e586-b9c2-408c-9825-83b75a339583"})),o.a.createElement(f.a,{item:!0,xs:0,sm:1,md:2}),o.a.createElement(f.a,{item:!0,xs:12,sm:10,md:8,container:!0,spacing:1,alignItems:"center",justify:"center",direction:"column"},o.a.createElement(Z.c,null,o.a.createElement(Z.a,{path:"/",exact:!0,component:C}),o.a.createElement(Z.a,{path:"/links",exact:!0,component:C}),o.a.createElement(Z.a,{path:"/add",component:Q}))),o.a.createElement(f.a,{item:!0,xs:0,sm:1,md:2}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[106,1,2]]]);
//# sourceMappingURL=main.c2e7d7ab.chunk.js.map